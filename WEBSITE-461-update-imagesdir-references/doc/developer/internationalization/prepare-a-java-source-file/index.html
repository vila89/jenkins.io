<!DOCTYPE html>
<html>
<head>
<title>
Prepare a Java Source File for Localization
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins is an open source automation server" name="description">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/sites/default/files/jenkins_favicon.ico" rel="shortcut icon" type="image/x-icon">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/img/favicon.ico" rel="icon" sizes="32x32" type="img/png">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/img/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/img/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/img/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/img/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/img/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152">
<meta content="Prepare a Java Source File for Localization" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Prepare a Java Source File for Localization" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software." name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<!-- Open Graph data -->
<meta content="Prepare a Java Source File for Localization" property="og:title">
<meta content="article" property="og:type">
<meta content="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/internationalization/prepare-a-java-source-file/index.html" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software." name="og:description">
<meta content="Prepare a Java Source File for Localization" property="og:site_name">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/assets/bower/tether/css/tether.min.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/css/font-icons.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/css/jenkins.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/assets/bower/ionicons/css/ionicons.min.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/css/footer.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/css/font-awesome.min.css" media="screen" rel="stylesheet">
</head>
<body>
<script src="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/assets/bower/jquery/jquery.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<nav class="navbar navbar-toggleable-md navbar-inverse top bg-inverse fixed-top" id="ji-toolbar">
<div class="container">
<button class="navbar-toggler navbar-toggler-rght hidden-lg-up float-right" data-target="#CollapsingNavbar" data-toggle="collapse" type="button">
<i class="ion-navicon"></i>
</button>
<a class="navbar-brand" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references">
Jenkins
</a>
<div class="collapse navbar-collapse" id="CollapsingNavbar">
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/node">
Blog
</a>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
Documentation
</div>
<div class="dropdown-menu">
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc">
Use Jenkins
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer">
Extend Jenkins
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="https://plugins.jenkins.io/">
Plugins
</a>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
Use-cases
</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/android">
Android
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/c">
C/C++
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/docker">
Docker
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/embedded">
Embedded
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/github">
GitHub
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/java">
Java
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/php">
PHP
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/pipeline">
Continuous Delivery
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/python">
Python
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/ruby">
Ruby
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/participate">
Participate
</a>
</li>
<li class="dropdown nav-item">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">Sub-projects</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/projects/">
Overview
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/projects/blueocean/">
Blue Ocean
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/projects/gsoc/">
Google Summer of Code
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/projects/infrastructure/">
Infrastructure
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/projects/jam/">
Jenkins Area Meetups
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/projects/remoting/">
Jenkins Remoting
</a>
</div>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
Resources
</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://accounts.jenkins.io/" title="Create/manage your account for accessing wiki, issue tracker, etc">
Account Management
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/chat" title="Chat with the rest of the Jenkins community on IRC">
Chat
</a>
<a class="dropdown-item feature" href="https://issues.jenkins-ci.org/">
Issue Tracker
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/mailing-lists" title="Browse Jenkins mailing list archives and/or subscribe to lists">
Mailing Lists
</a>
<a class="dropdown-item feature" href="https://wiki.jenkins-ci.org/">
Wiki
</a>
</div>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
About
</div>
<div class="dropdown-menu">
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/security">
Security
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/press">
Press
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/project/conduct">
Conduct
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/artwork">
Artwork
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link btn btn-outline-secondary" href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/download">
Download
</a>
</li>
</ul>
</div>
</div>
</nav>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<style>
  ol li i.icon-warning::before {
    content: "\f071";
    color: #bf6900;
    font-family: FontAwesome !important;
    font-size: 10px;
    vertical-align: middle;
  }
</style>
<script>
  $(function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row.body h' + i);
    }
  })
</script>
<div class="container">
<div class="row body">
<div class="col-lg-3">
<div class="sidebar-nav tour">
<h4>
Topics
</h4>
<ol>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/architecture" class="">Architecture</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/initialization" class="">Initialization and Startup</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/extensibility" class="">Extensibility</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/model" class="">Model</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/handling-requests" class="">Handling Requests</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/security" class="">Security</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/persistence" class="">Persistence</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/scheduling" class="">Scheduling</a>
<i class="icon-warning" title="Early work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/views" class="">Views</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/forms" class="">Forms</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/internationalization" class="active">Internationalization and Localization</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/distributed-builds" class="">Distributed Builds</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/cli" class="">Jenkins CLI</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/testing" class="">Testing</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/plugin-development" class="">Plugin development</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/blueocean-plugin-development" class="">Blue Ocean</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/building" class="">Building and Debugging</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/development-environment" class="">Setting up a Development Environment</a>
<i class="icon-warning" style="opacity: 0.5;" title="Partial work in progress">
&nbsp;
</i>
</li>
</ol>
<h4>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/guides" class="">How-To Guides</a>
</h4>
<h4>
Resources
</h4>
<h5>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/extensions" class="">Extensions Index</a>
</h5>
<h5>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc/developer/javadoc" class="">Javadoc</a>
</h5>
<h5>
Taglibs
</h5>
<ul>
<li>
<a href="http://reports.jenkins.io/reports/core-taglib/jelly-taglib-ref.html" target="_blank">
Core
</a>
</li>
<li>
<a href="http://stapler.kohsuke.org/jelly-taglib-ref.html" target="_blank">
Stapler
</a>
</li>
<li>
<a href="https://commons.apache.org/proper/commons-jelly/tags.html" target="_blank">
Jelly Core
</a>
</li>
</ul>
<h5>
Tools
</h5>
<ul>
<li>
<a href="https://jenkinsci.github.io/maven-hpi-plugin/" target="_blank">
Maven HPI Plugin
</a>
</li>
</ul>
</div>
</div>
<div class="col-lg-9">
<h1>
Prepare a Java Source File for Localization
</h1>
<p>
<a href="../../guides">
View the index of available developer guides
</a>
</p>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#step-1-identify-messages">Step 1: Identify messages</a></li>
<li><a href="#step-2-prepare-the-code-messages-properties-code-file">Step 2: Prepare the <code>Messages.properties</code> file</a></li>
<li><a href="#step-3-build-the-project-once">Step 3: Build the project once</a></li>
<li><a href="#step-4-reference-code-messages-code-strings">Step 4: Reference <code>Messages</code> strings</a></li>
</ul>
</div>
<div class="paragraph">
<p>This guide explains how to prepare a Java source file in Jenkins core or a plugin for localization.</p>
</div>
<div class="sect1">
<h2 id="step-1-identify-messages"><a class="anchor" href="#step-1-identify-messages"></a>Step 1: Identify messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, we need to identify the localizable strings that should be translated.
In general, everything shown on any user interface should be internationalized (i.e. prepared for localization into the user&#8217;s language).</p>
</div>
<div class="paragraph">
<p>Historically, log messages to be written to the Jenkins server log file from a logger aren&#8217;t translated, but could also be.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s consider the following example, taken from the sample <code>HelloWorldBuilder</code>:</p>
</div>
<div class="listingblock">
<div class="title">HelloWorldBuilder.java (excerpt)</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> FormValidation doCheckName(<span style="color:#007">@QueryParameter</span> <span style="color:#0a8;font-weight:bold">String</span> value)
        <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">IOException</span>, ServletException {
    <span style="color:#080;font-weight:bold">if</span> (value.length() == <span style="color:#00D">0</span>)
        <span style="color:#080;font-weight:bold">return</span> FormValidation.error(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Please set a name</span><span style="color:#710">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>
    <span style="color:#080;font-weight:bold">if</span> (value.length() &lt; <span style="color:#00D">4</span>)
        <span style="color:#080;font-weight:bold">return</span> FormValidation.warning(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Isn't the name too short?</span><span style="color:#710">&quot;</span></span>); <i class="conum" data-value="2"></i><b>(2)</b>
    <span style="color:#080;font-weight:bold">return</span> FormValidation.ok();
}

...

<span style="color:#777">/**
 * This human readable name is used in the configuration screen.
 */</span>
public <span style="color:#0a8;font-weight:bold">String</span> getDisplayName() {
    <span style="color:#080;font-weight:bold">return</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Say hello world</span><span style="color:#710">&quot;</span></span>; <i class="conum" data-value="3"></i><b>(3)</b>
}

<span style="color:#007">@Override</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">boolean</span> configure(StaplerRequest req, JSONObject formData) <span style="color:#088;font-weight:bold">throws</span> FormException {
    <span style="color:#777">// To persist global configuration information,</span>
    <span style="color:#777">// set that to properties and call save().</span>
    useFrench = formData.getBoolean(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">useFrench</span><span style="color:#710">&quot;</span></span>); <i class="conum" data-value="4"></i><b>(4)</b>
    <span style="color:#777">// ^Can also use req.bindJSON(this, formData);</span>
    <span style="color:#777">//  (easier when there are many fields; need set* methods for this, like setUseFrench)</span>
    save();
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#950">super</span>.configure(req,formData);
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This string should be internationalized, as it is used as a form validation response.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This string should also be internationalized, as it is another form validation response.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This is the display name of the build step on the UI, and should also be internationalized.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This is an internal identifier for a form configuration option and must not be internationalized.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-2-prepare-the-code-messages-properties-code-file"><a class="anchor" href="#step-2-prepare-the-code-messages-properties-code-file"></a>Step 2: Prepare the <code>Messages.properties</code> file</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <a href="https://wiki.jenkins-ci.org/display/JENKINS/Internationalization#Internationalization-StaplerpluginforIntelliJIDEA">IntelliJ IDEA Plugin for Stapler</a> and <a href="https://wiki.jenkins-ci.org/display/JENKINS/NetBeans+plugin+for+Stapler">NetBeans Plugin for Stapler</a> have features that make this and the following steps easier.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The localized strings for the default language (typically English), unless they are reused within the same component, are typically added to a <code>Messages.properties</code> file in the same package as the class that uses it.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not reference other components (e.g. core&#8217;s) <code>Messages</code> classes.
They typically do not consider their localized messages stable API, so your plugin might break if they change their messages.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using the default Maven project layout, the <code>HelloWorldBuilder</code> class stored in the source file <code>src/main/java/org/jenkinsci/plugins/example/HelloWorldBuilder.java</code> would use the localized strings in the resources file <code>src/main/resources/org/jenkinsci/plugins/example/Messages.properties</code> (basically, in the same package).
Create that file if it doesn&#8217;t exist.</p>
</div>
<div class="paragraph">
<p>Now, let&#8217;s add entries for the localizable strings identified above to that file:</p>
</div>
<div class="listingblock">
<div class="title">Messages.properties</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code>HelloWorldBuilder.NoName=Please set a name <i class="conum" data-value="1"></i><b>(1)</b>
HelloWorldBuilder.ShortName=\<i class="conum" data-value="2"></i><b>(2)</b>
  Isn''t the name too short? <i class="conum" data-value="3"></i><b>(3)</b>
# Unicode variant of the line above: <i class="conum" data-value="4"></i><b>(4)</b>
# Isn\u2019t the name too short? <i class="conum" data-value="5"></i><b>(5)</b>
HelloWorldBuilder.DisplayName=Say hello world</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This sets the value for the key <code>HelloWorldBuilder.NoName</code>.
While the key can be freely chosen, it&#8217;s typically a good idea to indicate where it&#8217;s used, as multiple files may share the same <code>Messages.properties</code> file.
This is also the format generated by the Stapler Plugins for IntelliJ IDEA and NetBeans.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Line breaks, mostly useful with very long values, e.g. usage instructions, can be escaped with a back slash.
Make sure to not add whitespace after it.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>In properties files, single quotes need to be escaped with another single quote.
Alternatively, a Unicode apostrophe could be used here as well.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Lines starting with the <code>#</code> character are comments.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The file encoding for .properties files is ISO-8859-1 (Latin 1), so characters not in that set need to be specified using their Unicode code point, e.g. <code>\u2019</code> for the apostrophe.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-3-build-the-project-once"><a class="anchor" href="#step-3-build-the-project-once"></a>Step 3: Build the project once</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After adding new entries to any <code>Messages.properties</code> file (or renaming existing ones), the project needs to be rebuilt so the localizer can generate source code from it.
While we can refer to them in source code without that, we only get autocompletion once the <code>Messages</code> class has been generated.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="step-4-reference-code-messages-code-strings"><a class="anchor" href="#step-4-reference-code-messages-code-strings"></a>Step 4: Reference <code>Messages</code> strings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After code generation has run, we can add references to the generated class to the source code.
Example:</p>
</div>
<div class="listingblock">
<div class="title">HelloWorldBuilder.java (excerpt)</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> FormValidation doCheckName(<span style="color:#007">@QueryParameter</span> <span style="color:#0a8;font-weight:bold">String</span> value)
        <span style="color:#088;font-weight:bold">throws</span> <span style="color:#C00;font-weight:bold">IOException</span>, ServletException {
    <span style="color:#080;font-weight:bold">if</span> (value.length() == <span style="color:#00D">0</span>)
        <span style="color:#080;font-weight:bold">return</span> FormValidation.error(Messages.HelloWorldBuilder_NoName());
    <span style="color:#080;font-weight:bold">if</span> (value.length() &lt; <span style="color:#00D">4</span>)
        <span style="color:#080;font-weight:bold">return</span> FormValidation.warning(Messages.HelloWorldBuilder_ShortName());
    <span style="color:#080;font-weight:bold">return</span> FormValidation.ok();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If your IDE doesn&#8217;t offer autocompletion even after building the project once, make sure the output folder of the localizer, <code>target/generated-sources/localizer</code>, is configured and recognized as a directory containing generated source code.</p>
</div>
</div>
</div>

<h2>
References
</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/.properties">.properties file format on Wikipedia</a></li>
</ul>
</div>
</div>
</div>


<script src="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/assets/bower/anchor-js/anchor.min.js"></script>
<script src="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/assets/bower/tether/js/tether.min.js"></script>
<script src="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<footer id="footer">
<div class="container">
<div class="row">
<div class="col-md-4">
<p class="box">
<a href="https://github.com/jenkins-infra/jenkins.io/edit/master/content//doc/developer/internationalization/prepare-a-java-source-file.adoc" title="Edit /doc/developer/internationalization/prepare-a-java-source-file.adoc on GitHub">
Improve this page
</a>
|
<a href="https://github.com/jenkins-infra/jenkins.io/commits/master/content//doc/developer/internationalization/prepare-a-java-source-file.adoc" title="View /doc/developer/internationalization/prepare-a-java-source-file.adoc history on GitHub">
Page history
</a>
</p>
<div class="license-box">
<div id="creativecommons">
<a href="https://creativecommons.org/licenses/by-sa/4.0/">
<p>
<img src="https://licensebuttons.net/l/by-sa/4.0/88x31.png">
</p>
</a>
<p>
The content driving this site is licensed under the Creative
Commons Attribution-ShareAlike 4.0 license.
</p>
</div>
</div>
</div>
<div class="links col-md-8">
<div class="container">
<div class="row">
<div class="area col-md-3">
<div class="div-mar">
<h5>Resources</h5>
<ul class="resources">
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/events">
Events
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/doc">
Documentation
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/node">
Blog
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Solutions</h5>
<ul>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/android">
Android
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/c">
C/C++
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/docker">
Docker
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/embedded">
Embedded
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/github">
GitHub
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/java">
Java
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/php">
PHP
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/pipeline">
Continuous Delivery
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/python">
Python
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/solutions/ruby">
Ruby
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Project</h5>
<ul class="project">
<li>
<a href="https://issues.jenkins-ci.org">
Issue tracker
</a>
</li>
<li>
<a href="https://wiki.jenkins.io">
Wiki
</a>
</li>
<li>
<a href="https://github.com/jenkinsci">
GitHub
</a>
</li>
<li>
<a href="https://ci.jenkins.io">
Jenkins on Jenkins
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Community</h5>
<ul class="community">
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-users">
Users mailing list
</a>
</li>
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-dev">
Developers mailing list
</a>
</li>
<li>
<a href="https://twitter.com/jenkinsci">
Twitter
</a>
</li>
<li>
<a href="https://reddit.com/r/jenkinsci">
Reddit
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-461-update-imagesdir-references/merchandise">
Merchandise
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  !function(d,s,id) {
    var js, fjs=d.getElementsByTagName(s)[0];
    if (!d.getElementById(id)) {
      js = d.createElement(s);
      js.id=id;
      js.src="//platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,"script","twitter-wjs");
</script>
</body>
</html>
