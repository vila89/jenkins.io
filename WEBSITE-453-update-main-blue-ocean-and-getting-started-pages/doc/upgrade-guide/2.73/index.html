<!DOCTYPE html>
<html>
<head>
<title>
Jenkins Upgrade Guide
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins is an open source automation server" name="description">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/sites/default/files/jenkins_favicon.ico" rel="shortcut icon" type="image/x-icon">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/img/favicon.ico" rel="icon" sizes="32x32" type="img/png">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/img/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/img/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/img/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/img/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/img/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152">
<meta content="Jenkins Upgrade Guide" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Jenkins Upgrade Guide" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software." name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<!-- Open Graph data -->
<meta content="Jenkins Upgrade Guide" property="og:title">
<meta content="article" property="og:type">
<meta content="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/upgrade-guide/2.73/index.html" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software." name="og:description">
<meta content="Jenkins Upgrade Guide" property="og:site_name">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/assets/bower/tether/css/tether.min.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/css/font-icons.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/css/jenkins.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/assets/bower/ionicons/css/ionicons.min.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/css/footer.css" media="screen" rel="stylesheet">
<link href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/css/font-awesome.min.css" media="screen" rel="stylesheet">
</head>
<body>
<script src="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/assets/bower/jquery/jquery.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<nav class="navbar navbar-toggleable-md navbar-inverse top bg-inverse fixed-top" id="ji-toolbar">
<div class="container">
<button class="navbar-toggler navbar-toggler-rght hidden-lg-up float-right" data-target="#CollapsingNavbar" data-toggle="collapse" type="button">
<i class="ion-navicon"></i>
</button>
<a class="navbar-brand" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages">
Jenkins
</a>
<div class="collapse navbar-collapse" id="CollapsingNavbar">
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/node">
Blog
</a>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
Documentation
</div>
<div class="dropdown-menu">
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc">
Use Jenkins
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/developer">
Extend Jenkins
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="https://plugins.jenkins.io/">
Plugins
</a>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
Use-cases
</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/android">
Android
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/c">
C/C++
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/docker">
Docker
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/embedded">
Embedded
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/github">
GitHub
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/java">
Java
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/php">
PHP
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/pipeline">
Continuous Delivery
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/python">
Python
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/ruby">
Ruby
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/participate">
Participate
</a>
</li>
<li class="dropdown nav-item">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">Sub-projects</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/projects/">
Overview
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/projects/blueocean/">
Blue Ocean
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/projects/gsoc/">
Google Summer of Code
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/projects/infrastructure/">
Infrastructure
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/projects/jam/">
Jenkins Area Meetups
</a>
<a class="dropdown-item feature" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/projects/remoting/">
Jenkins Remoting
</a>
</div>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
Resources
</div>
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://accounts.jenkins.io/" title="Create/manage your account for accessing wiki, issue tracker, etc">
Account Management
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/chat" title="Chat with the rest of the Jenkins community on IRC">
Chat
</a>
<a class="dropdown-item feature" href="https://issues.jenkins-ci.org/">
Issue Tracker
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/mailing-lists" title="Browse Jenkins mailing list archives and/or subscribe to lists">
Mailing Lists
</a>
<a class="dropdown-item feature" href="https://wiki.jenkins-ci.org/">
Wiki
</a>
</div>
</li>
<li class="nav-item dropdown">
<div aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button">
About
</div>
<div class="dropdown-menu">
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/security">
Security
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/press">
Press
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/awards">
Awards
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/project/conduct">
Conduct
</a>
<a class="dropdown-item" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/artwork">
Artwork
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link btn btn-outline-secondary" href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/download">
Download
</a>
</li>
</ul>
</div>
</div>
</nav>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<script>
  $(function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row .col-lg-9 h' + i);
    }
  })
</script>
<div class="container">
<div class="row body">
<div class="col-lg-3">
<div class="sidebar-nav tour">
<p>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc" class="">Jenkins User Documentation Home</a>
</p>
<h4>
Guided Tour
</h4>
<ul>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/tour/getting-started" class="">Getting started</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/tour/hello-world" class="">Creating your first Pipeline</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/tour/running-multiple-steps" class="">Running multiple steps</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/tour/agents" class="">Defining execution environments</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/tour/environment" class="">Using environment variables</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/tour/tests-and-artifacts" class="">Recording test results and artifacts</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/tour/post" class="">Cleaning up and notifications</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/tour/deployment" class="">Deployment</a>
</li>
</ul>
<h4>
Tutorials
</h4>
<ul>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/tutorials" class="">Overview</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/tutorials/build-a-java-app-with-maven" class="">Build a Java app with Maven</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/tutorials/build-a-node-js-and-react-app-with-npm" class="">Build a Node.js and React app with npm</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/tutorials/build-a-python-app-with-pyinstaller" class="">Build a Python app with PyInstaller</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/tutorials/create-a-pipeline-in-blue-ocean" class="">Create a Pipeline in Blue Ocean</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/tutorials/build-a-multibranch-pipeline-project" class="">Build a multibranch Pipeline project</a>
</li>
</ul>
<h4>
User Handbook
<span style="font-size: 0.6rem; vertical-align: middle;">
<a href="/user-handbook.pdf">
(PDF)
</a>
</span>
</h4>
<ul>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/getting-started" class="">User Handbook overview</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/installing" class="">Installing Jenkins</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/using" class="">Using Jenkins</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/pipeline" class="">Pipeline</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/blueocean" class="">Blue Ocean</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/managing" class="">Managing Jenkins</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/system-administration" class="">System Administration</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/scaling" class="">Scaling Jenkins</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/appendix" class="">Appendix</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/glossary" class="">Glossary</a>
</li>
</ul>
<h4>
Resources
</h4>
<ul>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/book/pipeline/syntax" class="">Pipeline Syntax reference</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/pipeline/steps" class="">Pipeline Steps reference</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc/upgrade-guide" class="active">LTS Upgrade Guide</a>
</li>
</ul>
<h5>
Recent Tutorial Blog Posts
</h5>
<ul>
<li>
<a href="/blog/2017/11/27/tutorials-in-the-jenkins-user-documentation/">
Introducing Tutorials in the Jenkins User Documentation
</a>
</li>
<li>
<a href="/blog/2017/05/18/pipeline-dev-tools/">
Pipeline Development Tools
</a>
</li>
<li>
<a href="/blog/2017/04/12/welcome-to-blue-ocean-dashboard/">
Getting Started with the Blue Ocean Dashboard
</a>
</li>
</ul>
<div class="small">
<a href="/node/tags/tutorial">
View all tutorial blog posts
</a>
</div>
<p></p>
</div>
</div>
<div class="col-lg-9">
<div class="sect1">
<h2 id="upgrading-to-jenkins-lts-2-73-x"><a class="anchor" href="#upgrading-to-jenkins-lts-2-73-x"></a>Upgrading to Jenkins LTS 2.73.x</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each section covers the upgrade from the previous LTS release, the section on 2.73.1 covers the upgrade from 2.60.3.</p>
</div>
<div class="sect2">
<h3 id="upgrading-to-jenkins-lts-2-73-3"><a class="anchor" href="#upgrading-to-jenkins-lts-2-73-3"></a>Upgrading to Jenkins LTS 2.73.3</h3>
<div class="sect3">
<h4 id="changes-to-on-disk-storage-layout-for-user-records"><a class="anchor" href="#changes-to-on-disk-storage-layout-for-user-records"></a>Changes to on-disk storage layout for user records</h4>
<div class="paragraph">
<p><a href="/security/advisory/2017-11-08/">SECURITY-499</a></p>
</div>
<div class="paragraph">
<p>The fix for SECURITY-499 renames the directories containing user records in <code>JENKINS_HOME/users/</code>:
Directories with unsafe names, like reserved names such as <code>NUL</code> (Windows) or using unsafe characters such as <code>\</code> will be renamed to filesystem-safe representations of those user names, with problematic characters or sequences escaped.</p>
</div>
<div class="paragraph">
<p>Downgrading Jenkins to versions older than 2.73.3 would result in a mismatch between the name widely used to reference a user in Jenkins (such as assigned permissions), and what user name is associated with the user&#8217;s metadata (password record for Jenkins user database, SSH public key, and various preferences)&#8201;&#8212;&#8201;as the latter might change to the filesystem-safe representation of the intended user name&#8201;&#8212;&#8201;and is therefore discouraged.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="upgrading-to-jenkins-lts-2-73-2"><a class="anchor" href="#upgrading-to-jenkins-lts-2-73-2"></a>Upgrading to Jenkins LTS 2.73.2</h3>
<div class="sect3">
<h4 id="low-privilege-users-may-not-be-able-to-reconfigure-some-agents-anymore"><a class="anchor" href="#low-privilege-users-may-not-be-able-to-reconfigure-some-agents-anymore"></a>Low-privilege users may not be able to reconfigure some agents anymore</h4>
<div class="paragraph">
<p><a href="/security/advisory/2017-10-11/">SECURITY-478</a></p>
</div>
<div class="paragraph">
<p>The launch method <em>Launch agent via execution of command on master</em> did not properly check the permission to run commands of the configuring user.
This has been fixed, and this launch method can now only be configured by Jenkins administrators (or, more specifically, users with the <em>Run Scripts</em> permission).</p>
</div>
<div class="paragraph">
<p>A known limitation of this fix is that users without the <em>Run Scripts</em> permission (typically everyone who isn&#8217;t an administrator) are no longer able to configure agents with this launch method at all, even if the launch method and the script remain unchanged.</p>
</div>
</div>
<div class="sect3">
<h4 id="restrictions-to-remote-api-output"><a class="anchor" href="#restrictions-to-remote-api-output"></a>Restrictions to remote API output</h4>
<div class="paragraph">
<p><a href="/security/advisory/2017-10-11/">SECURITY-514, SECURITY-611, SECURITY-617, SECURITY-618</a></p>
</div>
<div class="paragraph">
<p>Multiple remote API endpoints had the content they provide restricted.
More detailed information can be found in the security advisory linked above.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All <em>user properties</em> got removed from <code>/user/(username)/api/</code> and other APIs returning users except when accessed by administrators or the users themselves.</p>
</li>
<li>
<p>APIs returning queue items and tasks (builds) now only return them when requested by users with read permission for them.</p>
</li>
<li>
<p>The <code>/queue/item/(ID)/api/</code> is now only accessible by users with read permission for the specified item.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixes-for-regressions-in-2-73-1"><a class="anchor" href="#fixes-for-regressions-in-2-73-1"></a>Fixes for regressions in 2.73.1</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins-ci.org/browse/JENKINS-45755">JENKINS-45755</a>,
<a href="https://issues.jenkins-ci.org/browse/JENKINS-46754">JENKINS-46754</a></p>
</div>
<div class="paragraph">
<p>The regressions in 2.73.1 listed below have been fixed in 2.73.2.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="upgrading-to-jenkins-lts-2-73-1"><a class="anchor" href="#upgrading-to-jenkins-lts-2-73-1"></a>Upgrading to Jenkins LTS 2.73.1</h3>
<div class="sect3">
<h4 id="known-issue-agent-connection-failures-involving-jenkins-masters-with-undefined-or-non-writable-home-directory"><a class="anchor" href="#known-issue-agent-connection-failures-involving-jenkins-masters-with-undefined-or-non-writable-home-directory"></a>Known Issue: Agent connection failures involving Jenkins masters with undefined or non-writable home directory</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins-ci.org/browse/JENKINS-45755">JENKINS-45755</a></p>
</div>
<div class="paragraph">
<p>A regression involving agent connections has been identified.
If the user home directory (<code>HOME</code>, not <code>JENKINS_HOME</code>) on the Jenkins master is undefined, or not writable, no remoting connections can be established.</p>
</div>
<div class="paragraph">
<p>The following features are known to impacted:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Agent connections</p>
</li>
<li>
<p>Remoting-based CLI connections (deprecated since 2.46.2)</p>
</li>
<li>
<p>Building Maven projects (Maven Integration Plugin)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The error shown will include the path to a directory <code>.jenkins/cache/jars</code> inside the home directory, and its stack trace will reference <code>hudson.remoting.FileSystemJarCache</code>.</p>
</div>
<div class="paragraph">
<p>The Jenkins Docker image has been changed to have a defined, writable home directory for the Jenkins user.
Typical web application container (e.g. Tomcat) setups may not have a writable home directory for the user the container is running as, and may need to be adapted to work around this issue.</p>
</div>
<div class="paragraph">
<p>Possible workarounds:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make the specified home directory writable to the Jenkins user.</p>
</li>
<li>
<p>Define a home directory that is writable for the user Jenkins is running as.</p>
</li>
<li>
<p>Override it for the process running Jenkins, for example using the <code>-Duser.home=/path/to/directory</code> parameter to the <code>java</code> command, pointing to a writable directory.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="known-issue-randomly-occurring-connection-failures-with-passphrase-protected-ed25519-ssh-keys"><a class="anchor" href="#known-issue-randomly-occurring-connection-failures-with-passphrase-protected-ed25519-ssh-keys"></a>Known Issue: Randomly occurring connection failures with passphrase-protected ed25519 SSH keys</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins-ci.org/browse/JENKINS-46754">JENKINS-46754</a></p>
</div>
<div class="paragraph">
<p>A regression involving authentication using passphrase-protected ed25519 SSH keys has been identified in 2.73.
It randomly causes failures in features using these keys, such as:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>SSH Slaves Plugin connections</p>
</li>
<li>
<p>Accessing Git repositories with the JGit implementation</p>
</li>
<li>
<p>Accessing Subversion repositories (unconfirmed)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Workarounds for this issue:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Do not use ed25519 for SSH keys in Jenkins</p>
</li>
<li>
<p>Do not protect ed25519 SSH keys in Jenkins with a passphrase</p>
</li>
<li>
<p>In the case of Git Plugin, switch to the Git CLI implementation</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a href="https://gist.github.com/rtyler/cd3a3f759c46f308bf7151819f5538a0">This Groovy Script</a>, when executed in the "Script Console" (located at <code>/script</code>) can be used to determine if the instance contains any passphrase-proteced ed25519 SSH keys before upgrading.</p>
</div>
</div>
<div class="sect3">
<h4 id="groovy-2-4-11-upgrade"><a class="anchor" href="#groovy-2-4-11-upgrade"></a>Groovy 2.4.11 Upgrade</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins-ci.org/browse/JENKINS-43197">JENKINS-43197</a></p>
</div>
<div class="paragraph">
<p>Groovy was updated from 2.4.8 to 2.4.11.
This may resolve existing Groovy-related memory problems, as 2.4.9 contains the fix for <a href="https://issues.apache.org/jira/browse/GROOVY-8067">GROOVY-8067</a>.
It may no longer be necessary to apply the <code>groovy.use.classvalue</code> workaround.</p>
</div>
</div>
<div class="sect3">
<h4 id="winstone-4-1-upgrade"><a class="anchor" href="#winstone-4-1-upgrade"></a>Winstone 4.1 Upgrade</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins-ci.org/browse/JENKINS-43713">JENKINS-43713</a>,
<a href="https://issues.jenkins-ci.org/browse/JENKINS-46968">JENKINS-46968</a></p>
</div>
<div class="paragraph">
<p>The embedded Jetty container has been updated from version 9.2.15 to version 9.4.5.
For a detailed list of changes, see <a href="https://github.com/eclipse/jetty.project/blob/master/VERSION.txt">the Jetty changelog</a>.</p>
</div>
<div class="paragraph">
<p>In this update, support for the optional <code>--spdy</code> parameter has been dropped.
Jenkins will now refuse to start if the <code>---spdy</code> parameter is specified.
It needs to be removed from any Jenkins init scripts.</p>
</div>
<div class="paragraph">
<p>Additionally, support for all TLS versions before 1.2 has been dropped.
If you&#8217;re using the embedded Jetty container&#8217;s HTTPS functionality, it will no longer accept TLS 1.0 or 1.1 connections.</p>
</div>
</div>
<div class="sect3">
<h4 id="build-authorization"><a class="anchor" href="#build-authorization"></a>Build Authorization</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins-ci.org/browse/JENKINS-22949">JENKINS-22949</a>,
<a href="https://issues.jenkins-ci.org/browse/JENKINS-30574">JENKINS-30574</a></p>
</div>
<div class="paragraph">
<p>This change affects only users of Authorize Project Plugin.</p>
</div>
<div class="paragraph">
<p>Previous releases of Jenkins implemented a special permission fallback when Authorize Project Plugin did not specify a global default configuration:
For the purposes of <strong>Build other projects</strong> and <strong>Build after other projects are built</strong>, if Authorize Project configuration did not specify a build authorization for the job in question, it fell back to acting with the permissions of the <em>anonymous</em> user.
This ensured a secure default, but only for these trigger-related permission checks.</p>
</div>
<div class="paragraph">
<p>This behavior has been changed, and Jenkins will now perform the permission check as SYSTEM (i.e. with full permissions) to determine whether a project should be built.</p>
</div>
<div class="paragraph">
<p>To restore the previous behavior, configure a global <strong>Project default Build Authorization</strong> setting the default authorization to that of the anonymous user.
This feature has been implemented in Authorize Project Plugin version 1.2.0.</p>
</div>
</div>
<div class="sect3">
<h4 id="remoting-work-directories"><a class="anchor" href="#remoting-work-directories"></a>Remoting Work Directories</h4>
<div class="paragraph">
<p><a href="https://issues.jenkins-ci.org/browse/JENKINS-44108">JENKINS-44108</a>,
<a href="https://issues.jenkins-ci.org/browse/JENKINS-44112">JENKINS-44112</a></p>
</div>
<div class="paragraph">
<p>The embedded <a href="https:/projects/remoting/">Jenkins Remoting</a> version has been updated from 3.7 to 3.10.
It introduces support of work directories, which may be used by Remoting to store caches, logs and other metadata.</p>
</div>
<div class="paragraph">
<p>Once work directory mode is enabled, Jenkins agents start writing logs to the disk and change the default destination of the filesystem JAR Cache.
In Remoting this opt-in feature can be enabled using the <code>-workDir=${ROOT_DIR}</code> command-line option, but the Jenkins defines custom behavior for some agent launchers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java Web Start Launcher (aka <em>JNLP agent</em>)</p>
<div class="ulist">
<ul>
<li>
<p>Old agents: Work directory needs to be enabled manually</p>
</li>
<li>
<p>New agents created from Web UI: Work directory is enabled by default, work directory points to <em>Remote root directory</em> of the agent.</p>
</li>
<li>
<p>New agents created from CLI/API: Behavior depends on the passed configuration file, work directory is disabled by default</p>
</li>
</ul>
</div>
</li>
<li>
<p>Command Launcher</p>
<div class="ulist">
<ul>
<li>
<p>No changes, work directory should be manually enabled in launch settings if required</p>
</li>
</ul>
</div>
</li>
<li>
<p>Other Launcher types (e.g. SSH Launcher)</p>
<div class="ulist">
<ul>
<li>
<p>The behavior is defined in plugins, which have independent release cycle</p>
</li>
<li>
<p>Follow updates in tickets linked to <a href="https://issues.jenkins-ci.org/browse/JENKINS-44108">JENKINS-44108</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can find more information, examples and upgrade guides in <a href="https://github.com/jenkinsci/remoting/blob/master/docs/workDir.md">Jenkins Remoting documentation</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>


<script src="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/assets/bower/anchor-js/anchor.min.js"></script>
<script src="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/assets/bower/tether/js/tether.min.js"></script>
<script src="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<footer id="footer">
<div class="container">
<div class="row">
<div class="col-md-4">
<p class="box">
<a href="https://github.com/jenkins-infra/jenkins.io/edit/master/content//doc/upgrade-guide/2.73.adoc" title="Edit /doc/upgrade-guide/2.73.adoc on GitHub">
Improve this page
</a>
|
<a href="https://github.com/jenkins-infra/jenkins.io/commits/master/content//doc/upgrade-guide/2.73.adoc" title="View /doc/upgrade-guide/2.73.adoc history on GitHub">
Page history
</a>
</p>
<div class="license-box">
<div id="creativecommons">
<a href="https://creativecommons.org/licenses/by-sa/4.0/">
<p>
<img src="https://licensebuttons.net/l/by-sa/4.0/88x31.png">
</p>
</a>
<p>
The content driving this site is licensed under the Creative
Commons Attribution-ShareAlike 4.0 license.
</p>
</div>
</div>
</div>
<div class="links col-md-8">
<div class="container">
<div class="row">
<div class="area col-md-3">
<div class="div-mar">
<h5>Resources</h5>
<ul class="resources">
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/events">
Events
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/doc">
Documentation
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/node">
Blog
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Solutions</h5>
<ul>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/android">
Android
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/c">
C/C++
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/docker">
Docker
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/embedded">
Embedded
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/github">
GitHub
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/java">
Java
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/php">
PHP
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/pipeline">
Continuous Delivery
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/python">
Python
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/solutions/ruby">
Ruby
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Project</h5>
<ul class="project">
<li>
<a href="https://issues.jenkins-ci.org">
Issue tracker
</a>
</li>
<li>
<a href="https://wiki.jenkins.io">
Wiki
</a>
</li>
<li>
<a href="https://github.com/jenkinsci">
GitHub
</a>
</li>
<li>
<a href="https://ci.jenkins.io">
Jenkins on Jenkins
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Community</h5>
<ul class="community">
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-users">
Users mailing list
</a>
</li>
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-dev">
Developers mailing list
</a>
</li>
<li>
<a href="https://twitter.com/jenkinsci">
Twitter
</a>
</li>
<li>
<a href="https://reddit.com/r/jenkinsci">
Reddit
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/merchandise">
Merchandise
</a>
</li>
<li>
<a href="https://gilesgas.github.io/jenkins.io/WEBSITE-453-update-main-blue-ocean-and-getting-started-pages/awards">
Awards
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  !function(d,s,id) {
    var js, fjs=d.getElementsByTagName(s)[0];
    if (!d.getElementById(id)) {
      js = d.createElement(s);
      js.id=id;
      js.src="//platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,"script","twitter-wjs");
</script>
</body>
</html>
